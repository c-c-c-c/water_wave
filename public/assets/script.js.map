{"version":3,"sources":["../../src/script/script.js"],"names":["N","l","dt","dd","v","BC","peakPosition","x","y","z","sigma2","peakPosition_bound","x_min","x_max","y_min","y_max","z_min","z_max","sigma2_min","sigma2_max","restartFlag","stopFlag","Tn","f","Array","initialCondition","parameter","x0","y0","z0","t","i","j","Math","exp","pow","window","addEventListener","resizeTo","threeStart","initThree","initCamera","initLight","initObject","loop","renderer","scene","canvasFrame","document","getElementById","THREE","WebGLRenderer","antialias","alert","setSize","clientWidth","clientHeight","appendChild","domElement","Scene","camera","PerspectiveCamera","position","set","up","lookAt","directionalLight","ambientLight","DirectionalLight","AmbientLight","add","axis","lattice","cubes","geometry","Geometry","vertices","push","Vector3","ii","faces","Face3","computeFaceNormals","computeVertexNormals","loader","TextureLoader","texture","load","material","MeshBasicMaterial","color","side","DoubleSide","specular","shininess","minFilter","LinearFilter","Mesh","CubeGeometry","MeshPhongMaterial","transparent","opacity","rotation","PI","step","time","a","normalsNeedUpdate","verticesNeedUpdate","clear","render","remove","requestAnimationFrame"],"mappings":"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","file":"script.js","sourcesContent":["/*\n「四角形オブジェクト100×100_ガウシアン_枠_時間発展_.html」をベースとして\n*/\n\t////////////////////////////////////////////////////////////////////\n\t// 物理系の定義\n\t////////////////////////////////////////////////////////////////////\n\t//２次元正方格子のサイズ\n\tvar N = 100;\n\tvar l = 1.0;\n\n\tvar dt = 0.1; //時間間隔\n\tvar dd = 1.0; //空間間隔\n\tvar v = 4;    //速度\n\n\t//境界条件の設定\n\t//var BC = \"Neumann\"; //or \"Dirichlet\"\n\tvar BC =  \"Dirichlet\" ;\n\n\tvar peakPosition = { x: 0, y: 0, z: 100, sigma2: 30 };\n\tvar peakPosition_bound = { x_min: -50, x_max: 50, y_min: -50, y_max: 50, z_min: -50, z_max: 100, sigma2_min: 10, sigma2_max: 100 };\n\n\t//一時停止フラグ\n\tvar restartFlag = false; //再計算フラグ\n\tvar stopFlag = false;     //一時停止フラグ\n\n\tvar Tn = 3;\n\tvar f = new Array(Tn);\n\n\tfunction initialCondition(parameter) {\n\t\tvar x0 = parameter.x;\n\t\tvar y0 = parameter.y;\n\t\tvar z0 = parameter.z;\n\t\tvar sigma2 = parameter.sigma2;\n\t\tfor (var t = 0; t < Tn; t++) {\n\t\t\tf[t] = new Array(N);\n\t\t\tfor (i = 0; i <= N; i++) {\n\t\t\t\tf[t][i] = new Array(N);\n\t\t\t\tfor (j = 0; j <= N; j++) {\n\t\t\t\t\tvar x = (-N / 2 + i) * l;\n\t\t\t\t\tvar y = (-N / 2 + j) * l;\n\t\t\t\t\t//初期条件を与える\n\t\t\t\t\tvar z = z0 * Math.exp(-(Math.pow(x-x0, 2) + Math.pow(y-y0, 2)) / (2*sigma2));\n\t\t\t\t\tf[0][i][j] = z;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (var i = 1; i <= N - 1; i++) {\n\t\t\tfor (var j = 1; j <= N - 1; j++) {\n\t\t\t\tf[1][i][j] = f[0][i][j] + v * v / 2.0 * dt * dt / (dd * dd) * (f[0][i + 1][j] + f[0][i - 1][j] + f[0][i][j + 1] + f[0][i][j - 1] - 4.0 * f[0][i][j]);\n\t\t\t}\n\t\t}\n\t\tif (BC == \"Dirichlet\") {\n\t\t\t//ディリクレ境界条件\n\t\t\tfor (var i = 0; i <= N; i++) {\n\t\t\t\tf[1][i][0] = f[1][i][N] = f[1][0][i] = f[1][N][i] = 0.0; //境界条件\n\t\t\t}\n\t\t} else if (BC == \"Neumann\") {\n\t\t\t//ノイマン境界条件\n\t\t\tfor (var i = 1; i <= N-1; i++) {\n\t\t\t\tf[1][i][0] = f[1][i][1];\n\t\t\t\tf[1][i][N] = f[1][i][N - 1];\n\t\t\t\tf[1][0][i] = f[1][1][i];\n\t\t\t\tf[1][N][i] = f[1][N - 1][i];\n\t\t\t}\n\t\t\t//角の処理\n\t\t\tf[1][0][0] = (f[1][0][1] + f[1][1][0]) / 2;\n\t\t\tf[1][0][N] = (f[1][0][N-1] + f[1][1][N]) / 2;\n\t\t\tf[1][N][0] = (f[1][N-1][0] + f[1][N][1]) / 2;\n\t\t\tf[1][N][N] = (f[1][N-1][N] + f[1][N][N-1]) / 2;\n\t\t}\n\t}\n\n\t////////////////////////////////////////////////////////////////////\n\t// windowイベントの定義\n\t////////////////////////////////////////////////////////////////////\n\twindow.addEventListener(\"load\", function () {\n\t\tresizeTo(516, 538);\n\t\tinitialCondition(peakPosition);\n\t\tthreeStart(); //Three.jsのスタート関数の実行\n\t});\n\n\n\t////////////////////////////////////////////////////////////////////\n\t// Three.jsスタート関数の定義\n\t////////////////////////////////////////////////////////////////////\n\tfunction threeStart() {\n\t\tinitThree();  //Three.js初期化関数の実行\n\t\tinitCamera(); //カメラ初期化関数の実行\n\t\tinitLight();  //光源初期化関数の実行\n\t\tinitObject(); //オブジェクト初期化関数の実行\n\t\tloop();       //無限ループ関数の実行\n\t}\n\t////////////////////////////////////////////////////////////////////\n\t// Three.js初期化関数の定義\n\t////////////////////////////////////////////////////////////////////\n\t//グローバル変数の宣言\n\tvar renderer,    //レンダラーオブジェクト\n\t    scene,       //シーンオブジェクト\n\t    canvasFrame; //キャンバスフレームのDOM要素\n\tfunction initThree() {\n\t\t//キャンバスフレームDOM要素の取得\n\t\tcanvasFrame = document.getElementById('canvas-frame');\n\t\t//レンダラーオブジェクトの生成\n\t\trenderer = new THREE.WebGLRenderer({ antialias: true });\n\t\tif (!renderer) alert('Three.js の初期化に失敗しました');\n\t\t//レンダラーのサイズの設定\n\t\trenderer.setSize(canvasFrame.clientWidth, canvasFrame.clientHeight);\n\t\t//キャンバスフレームDOM要素にcanvas要素を追加\n\t\tcanvasFrame.appendChild(renderer.domElement);\n\n\t\t//レンダラークリアーカラーの設定\n\t\t//renderer.setClearColorHex(0x000000, 1.0);\n\n\t\t//シーンオブジェクトの生成\n\t\tscene = new THREE.Scene();\n\t}\n\t////////////////////////////////////////////////////////////////////\n\t// カメラ初期化関数の定義\n\t////////////////////////////////////////////////////////////////////\n\t//グローバル変数の宣言\n\tvar camera;    //カメラオブジェクト\n\tfunction initCamera() {\n\t\t//カメラオブジェクトの生成\n\t\tcamera = new THREE.PerspectiveCamera(45, canvasFrame.clientWidth / canvasFrame.clientHeight, 1, 10000);\n\t\t//カメラの位置の設定\n\t\tcamera.position.set(160, 0, 200);\n\t\t//カメラの上ベクトルの設定\n\t\tcamera.up.set(0, 0, 1);\n\t\t//カメラの中心位置ベクトルの設定\n\t\tcamera.lookAt({ x: 0, y: 0, z: 0 }); //トラックボール利用時は自動的に無効\n\n\t\t//トラックボールオブジェクトの宣言\n\t\t//trackball = new THREE.TrackballControls(camera, canvasFrame);\n\n\t\t//トラックボール動作範囲のサイズとオフセットの設定\n\t\t// trackball.screen.width = canvasFrame.clientWidth;                        //横幅\n\t\t// trackball.screen.height = canvasFrame.clientHeight;                      //縦幅\n\t\t// trackball.screen.offsetLeft = canvasFrame.getBoundingClientRect().left;  //左オフセット\n\t\t// trackball.screen.offsetTop = canvasFrame.getBoundingClientRect().top;    //右オフセット\n\n\t\t//トラックボールの回転無効化と回転速度の設定\n\t\t// trackball.noRotate = false;\n\t\t// trackball.rotateSpeed = 2.0;\n    //\n\t\t// //トラックボールの拡大無効化と拡大速度の設定\n\t\t// trackball.noZoom = false;\n\t\t// trackball.zoomSpeed = 1.0;\n    //\n\t\t// //トラックボールのカメラ中心移動の無効化と中心速度の設定\n\t\t// trackball.noPan = false;\n\t\t// trackball.panSpeed = 1.0;\n\t\t// trackball.target = new THREE.Vector3(0, 0, 10);\n    //\n\t\t// //トラックボールのスタティックムーブの有効化\n\t\t// trackball.staticMoving = true;\n\t\t// //トラックボールのダイナミックムーブ時の減衰定数\n\t\t// trackball.dynamicDampingFactor = 0.3;\n\t}\n\t////////////////////////////////////////////////////////////////////\n\t// 光源初期化関数の定義\n\t////////////////////////////////////////////////////////////////////\n\t//グローバル変数の宣言\n\tvar directionalLight,  //平行光源オブジェクト\n\t    ambientLight;      //環境光オブジェクト\n\tfunction initLight() {\n\t\t//平行光源オブジェクトの生成\n\t\tdirectionalLight = new THREE.DirectionalLight(0xDDDDDD, 1.0, 0);\n\t\t//平行光源オブジェクトの位置の設定\n\t\tdirectionalLight.position.set(30, 30, 100);\n\n\t\t//環境光オブジェクトの生成\n\t\tambientLight = new THREE.AmbientLight(0x222222);\n\t\t//環境光オブジェクトのシーンへの追加\n\t\tscene.add(ambientLight);\n\n\t\t//平行光源オブジェクトのシーンへの追加\n\t\tscene.add(directionalLight);\n\t}\n\t////////////////////////////////////////////////////////////////////\n\t// オブジェクト初期化関数の定義\n\t////////////////////////////////////////////////////////////////////\n\t//グローバル変数の宣言\n\tvar axis, //軸オブジェクト\n\t    lattice,  //２次元格子オブジェクト\n\t\t\tcubes = [];  //立方体オブジェクト\n\tfunction initObject() {\n/*\n\t\t//軸オブジェクトの生成\n\t\taxis = new THREE.AxisHelper(100);\n\t\t//軸オブジェクトのシーンへの追加\n\t\tscene.add(axis);\n\t\t//軸オブジェクトの位置座標を設定\n\t\taxis.position.set(0, 0, 0);\n*/\n\t\t//初期条件\n\t\tinitialCondition(peakPosition);\n\n\t\t//形状オブジェクトの宣言と生成\n\t\tvar geometry = new THREE.Geometry();\n\t\t//一片の長さ\n\t\tfor (i = 0; i <= N; i++) {\n\t\t\tfor (var j = 0; j <= N; j++) {\n\t\t\t\tvar x = (-N / 2 + i) * l;\n\t\t\t\tvar y = (-N / 2 + j) * l;\n\t\t\t\t//初期条件を与える\n\t\t\t\tvar z = f[0][i][j];\n\t\t\t\t//頂点座標データの追加\n\t\t\t\tgeometry.vertices.push(new THREE.Vector3(x, y, z));\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < N; i++) {\n\t\t\tfor (j = 0; j < N; j++) {\n\t\t\t\tvar ii = (N + 1) * i + j;\n\t\t\t\t//面指定用頂点インデックスを追加\n\t\t\t\tgeometry.faces.push(new THREE.Face3(ii, ii + (N + 1), ii + (N + 1) + 1, ii + 1));\n\t\t\t}\n\t\t}\n\t\t//面の法線ベクトルを計算\n\t\tgeometry.computeFaceNormals();\n\t\t//面の法線ベクトルから頂点法線ベクトルの計算\n\t\tgeometry.computeVertexNormals();\n\n\t\t//材質オブジェクトの宣言と生成\n\t\tlet loader = new THREE.TextureLoader();\n\t\tlet texture=loader.load('./public/img/italy.jpg');\n\n\t\tvar material = new THREE.MeshBasicMaterial({ color: 0xafeeee,  side: THREE.DoubleSide, specular: 0xffffff, shininess: 250 });\n\t\t//var material = new THREE.MeshBasicMaterial({ map: texture,  side: THREE.DoubleSide});\n\t\ttexture.minFilter = THREE.LinearFilter;\n\t\t//立方体オブジェクトの生成\n\t\tlattice = new THREE.Mesh(geometry, material);\n\n\t\t//形状オブジェクトの宣言と生成\n\t\tvar geometry = new THREE.CubeGeometry(1, 101, 30);\n\t\t//材質オブジェクトの宣言と生成F\n\t\tvar material = new THREE.MeshPhongMaterial({ color: 0xFFFFFF,  specular: 0xffffff, shininess: 100, transparent: true, opacity: 0.2 });\n\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t//立方体オブジェクトの生成\n\t\t\tcubes[i] = new THREE.Mesh(geometry, material);\n\t\t\t//立方体オブジェクトのシーンへの追加\n\t\t\tscene.add(cubes[i]);\n\t\t}\n\t\t//立方体オブジェクトの位置座標を設定\n\t\tcubes[0].position.set(50, 0, 15);\n\t\tcubes[1].position.set(-50, 0, 15);\n\t\tcubes[2].position.set(0, 50, 15);\n\t\tcubes[2].rotation.set(0, 0, Math.PI / 2);\n\t\tcubes[3].position.set(0, -50, 15);\n\t\tcubes[3].rotation.set(0, 0, Math.PI / 2);\n\t}\n\n\t////////////////////////////////////////////////////////////////////\n\t// 無限ループ関数の定義\n\t////////////////////////////////////////////////////////////////////\n\t//グローバル変数の宣言\n\tvar step = 0; //ステップ数\n\tfunction loop() {\n\t\t//トラックボールによるカメラオブジェクトのプロパティの更新\n\t\t//trackball.update();\n\n\t\t//時刻の取得\n\t\tvar time = step * dt;\n\t\t//時間発展\n\t\tif (stopFlag == false) {\n\t\t\t//ステップ数のインクリメント\n\t\t\tstep++;\n\t\t\ttime = step * dt;\n\t\t\tfor (var i = 1; i <= N - 1; i++) {\n\t\t\t\tfor (var j = 1; j <= N - 1; j++) {\n\t\t\t\t\tf[2][i][j] = 2.0 * f[1][i][j] - f[0][i][j] + v * v * dt * dt / (dd * dd) * (f[1][i + 1][j] + f[1][i - 1][j] + f[1][i][j + 1] + f[1][i][j - 1] - 4.0 * f[1][i][j]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (BC == \"Dirichlet\") {\n\t\t\t\t//ディリクレ境界条件\n\t\t\t\tfor (var i = 0; i <= N; i++) {\n\t\t\t\t\tf[2][i][0] = f[2][i][N] = f[2][0][i] = f[2][N][i] = 0.0;    //境界条件\n\t\t\t\t}\n\t\t\t} else if (BC == \"Neumann\") {\n\t\t\t\t//ノイマン境界条件\n\t\t\t\tfor (var i = 1; i <= N-1; i++) {\n\t\t\t\t\tf[2][i][0] = f[2][i][1];\n\t\t\t\t\tf[2][i][N] = f[2][i][N - 1];\n\t\t\t\t\tf[2][0][i] = f[2][1][i];\n\t\t\t\t\tf[2][N][i] = f[2][N - 1][i];\n\t\t\t\t}\n\t\t\t\t//角の処理\n\t\t\t\tf[2][0][0] = (f[2][0][1] + f[2][1][0]) / 2;\n\t\t\t\tf[2][0][N] = (f[2][0][N - 1] + f[2][1][N]) / 2;\n\t\t\t\tf[2][N][0] = (f[2][N - 1][0] + f[2][N][1]) / 2;\n\t\t\t\tf[2][N][N] = (f[2][N - 1][N] + f[2][N][N - 1]) / 2;\n\n\t\t\t}\n\t\t\t//次の計算のために配列の数値を入れかえる。ここで過去の情報は失われる。\n\t\t\tfor (var i = 0; i <= N; i++) {\n\t\t\t\tfor (var j = 0; j <= N; j++) {\n\t\t\t\t\tf[0][i][j] = f[1][i][j];\n\t\t\t\t\tf[1][i][j] = f[2][i][j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar a =0;\n\t\tfor (i = 0; i <= N; i++) {\n\t\t\tfor (j = 0; j <= N; j++) {\n\t\t\t\tvar x = (-N / 2 + i) * l;\n\t\t\t\tvar y = (-N / 2 + j) * l;\n\t\t\t\tvar z = f[1][i][j];\n\t\t\t\t//頂点座標データの追加\n\t\t\t\tlattice.geometry.vertices[a].z = z;\n\t\t\t\ta++;\n\t\t\t}\n\t\t}\n\n\t\tlattice.geometry.normalsNeedUpdate = true;\n\t\tlattice.geometry.verticesNeedUpdate = true;\n\t\t//面の法線ベクトルを計算\n\t\tlattice.geometry.computeFaceNormals();\n\t\t//面の法線ベクトルから頂点法線ベクトルの計算\n\t\tlattice.geometry.computeVertexNormals();\n\n\t\t//立方体オブジェクトのシーンへの追加\n\t\tscene.add(lattice);\n\n\t\t//クリアーカラーで初期化\n\t\trenderer.clear();\n\t\t//レンダリング\n\t\trenderer.render(scene, camera);\n\n\t\tscene.remove(lattice);\n\n\n\t\t//「loop()」関数の呼び出し\n\t\trequestAnimationFrame(loop);\n\t}\n"]}